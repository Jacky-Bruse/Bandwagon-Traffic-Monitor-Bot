# Bandwagon Traffic Monitor Bot

Bandwagon Traffic Monitor Bot (æ¬ç“¦å·¥æµé‡ç›‘æ§æœºå™¨äºº) æ˜¯ä¸€ä¸ªé€šè¿‡ Telegram Bot å®æ—¶æŸ¥è¯¢æ¬ç“¦å·¥ (Bandwagon Host) VPS æµé‡çš„å·¥å…·ã€‚

æœ¬é¡¹ç›®è¢«æ‰“åŒ…ä¸º Docker é•œåƒï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²ã€‚å®ƒä¼šä½œä¸ºä¸€ä¸ªåå°æœåŠ¡è¿è¡Œï¼Œå“åº”æ‚¨åœ¨ Telegram ä¸­å‘é€çš„å‘½ä»¤ã€‚

å½“ä»£ç è¢«æ¨é€åˆ° `main` åˆ†æ”¯æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ„å»ºæ–°çš„ Docker é•œåƒå¹¶å°†å…¶æ¨é€åˆ° Docker Hubã€‚

## âœ¨ åŠŸèƒ½

- **äº¤äº’å¼æŸ¥è¯¢**: é€šè¿‡å‘ Telegram Bot å‘é€ `/traffic` å‘½ä»¤ï¼Œéšæ—¶è·å– VPS çš„å®æ—¶æµé‡ä½¿ç”¨æƒ…å†µã€‚
- **æƒé™æ§åˆ¶**: å¯é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæˆæƒçš„ Telegram Chat IDï¼Œåªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½ä½¿ç”¨æ­¤æœºå™¨äººã€‚
- **Docker åŒ–**: é¡¹ç›®è¢«å®¹å™¨åŒ–ï¼Œæ–¹ä¾¿å¿«é€Ÿéƒ¨ç½²å’Œç®¡ç†ã€‚
- **è‡ªåŠ¨åŒ–æ„å»º**: é€šè¿‡ GitHub Actions è‡ªåŠ¨æ„å»ºå’Œæ¨é€ Docker é•œåƒã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

æ‚¨éœ€è¦ä¸€å°å¯ä»¥è¿è¡Œ Docker çš„æœåŠ¡å™¨æ¥éƒ¨ç½²æ­¤æœºå™¨äººã€‚

### 1. è·å–å¿…è¦çš„å‡­è¯

æ‚¨éœ€è¦å‡†å¤‡ä»¥ä¸‹ä¿¡æ¯ï¼š

- **æ¬ç“¦å·¥ VEID å’Œ API Key**: ç™»å½• [KiwiVM æ§åˆ¶é¢æ¿](https://kiwivm.64clouds.com/)ï¼Œåœ¨ API é¡µé¢å¯ä»¥æ‰¾åˆ°ã€‚
- **Telegram Bot Token**: åœ¨ Telegram ä¸­ä¸ [@BotFather](https://t.me/BotFather) å¯¹è¯ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ Botï¼Œå³å¯è·å¾— Tokenã€‚
- **Telegram Chat ID**: è¿™æ˜¯æ‚¨çš„ä¸ªäºº Telegram IDã€‚æ‚¨å¯ä»¥å‘é€ `/start` ç»™ [@userinfobot](https://t.me/userinfobot) æ¥è·å–ã€‚å¦‚æœæ‚¨å¸Œæœ›å¤šä¸ªç”¨æˆ·éƒ½èƒ½ä½¿ç”¨ï¼Œå¯ä»¥ç”¨é€—å· `,` åˆ†éš”å¤šä¸ª IDã€‚

### 2. è¿è¡Œ Docker å®¹å™¨

åœ¨æ‚¨çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨æœºå™¨äººã€‚è¯·å°†å‘½ä»¤ä¸­çš„å ä½ç¬¦æ›¿æ¢ä¸ºæ‚¨åœ¨ä¸Šä¸€æ­¥ä¸­è·å–åˆ°çš„çœŸå®ä¿¡æ¯ã€‚

```bash
docker run -d \
  --name bandwagon-bot \
  --restart always \
  -e BWH_VEID="YOUR_BWH_VEID" \
  -e BWH_API_KEY="YOUR_BWH_API_KEY" \
  -e TELEGRAM_BOT_TOKEN="YOUR_TELEGRAM_BOT_TOKEN" \
  -e TELEGRAM_CHAT_ID="YOUR_TELEGRAM_CHAT_ID" \
  your_dockerhub_username/bandwagon-traffic-monitor:latest
```

> **æ³¨æ„**:
> - è¯·å°† `your_dockerhub_username` æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„ Docker Hub ç”¨æˆ·åã€‚å¦‚æœæ‚¨æ˜¯ä»é›¶å¼€å§‹å¹¶ä½¿ç”¨äº†æˆ‘æä¾›çš„ GitHub Actions æµç¨‹ï¼Œé•œåƒæ ‡ç­¾å°±æ˜¯è¿™æ ·ã€‚
> - å¦‚æœæ‚¨æ˜¯ç›´æ¥å…‹éš†æœ¬ä»“åº“åœ¨æœ¬åœ°æ„å»ºï¼Œå¯ä»¥å°†æœ€åä¸€è¡Œæ›¿æ¢ä¸ºæœ¬åœ°é•œåƒçš„åç§°ã€‚

### 3. ä¸æ‚¨çš„æœºå™¨äººäº’åŠ¨

æ‰“å¼€ Telegramï¼Œæ‰¾åˆ°æ‚¨åˆ›å»ºçš„æœºå™¨äººï¼Œç„¶åå‘é€ä»¥ä¸‹å‘½ä»¤ï¼š

- `/start` - æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯ã€‚
- `/traffic` - è·å–å®æ—¶çš„ VPS æµé‡æŠ¥å‘Šã€‚

## ğŸ”§ ç¯å¢ƒå˜é‡

ä»¥ä¸‹æ˜¯è¿è¡Œæ­¤æœºå™¨äººæ‰€éœ€çš„æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼š

| å˜é‡å                | æè¿°                                                               | æ˜¯å¦å¿…é¡» |
| --------------------- | ------------------------------------------------------------------ | -------- |
| `BWH_VEID`            | æ‚¨çš„æ¬ç“¦å·¥ VPS çš„ VEIDã€‚**æ”¯æŒå¤šä¸ª VEIDï¼Œè¯·ç”¨é€—å· `,` åˆ†éš”**ã€‚      | **æ˜¯**   |
| `BWH_API_KEY`         | æ‚¨çš„æ¬ç“¦å·¥ API å¯†é’¥ã€‚                                              | **æ˜¯**   |
| `TELEGRAM_BOT_TOKEN`  | æ‚¨çš„ Telegram Bot çš„ Tokenã€‚                                       | **æ˜¯**   |
| `TELEGRAM_CHAT_ID`    | æˆæƒä½¿ç”¨æœºå™¨äººçš„ç”¨æˆ· Chat IDï¼Œå¤šä¸ª ID è¯·ç”¨é€—å·åˆ†éš”ã€‚               | **æ˜¯**   |
| `CRON_HOURS`          | å®šæ—¶æ¨é€çš„å°æ—¶æ•° (åŒ—äº¬æ—¶é—´, 24å°æ—¶åˆ¶)ï¼Œå¤šä¸ªè¯·ç”¨é€—å·åˆ†éš”ã€‚é»˜è®¤ `8`ã€‚   | å¦       |

## ğŸ³ Docker & è‡ªåŠ¨åŒ–

### åœ¨æœ¬åœ°æ„å»º

å¦‚æœæ‚¨æƒ³åœ¨æœ¬åœ°æ„å»º Docker é•œåƒï¼Œè€Œä¸æ˜¯ä½¿ç”¨ GitHub Actions æ¨é€çš„é•œåƒï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. å…‹éš†æœ¬ä»“åº“ï¼š
   ```bash
   git clone https://github.com/your-username/Bandwagon-Traffic-Monitor-Bot.git
   cd Bandwagon-Traffic-Monitor-Bot
   ```
2. æ„å»º Docker é•œåƒï¼š
   ```bash
   docker build -t bandwagon-traffic-monitor:local .
   ```
3. ä½¿ç”¨æœ¬åœ°é•œåƒè¿è¡Œå®¹å™¨ï¼ˆè®°å¾—æ›¿æ¢ç¯å¢ƒå˜é‡ï¼‰ï¼š
   ```bash
   docker run -d --name bandwagon-bot -e ... bandwagon-traffic-monitor:local
   ```

### è‡ªåŠ¨åŒ–å·¥ä½œæµ

æœ¬ä»“åº“åŒ…å«ä¸€ä¸ª GitHub Actions å·¥ä½œæµ (`.github/workflows/monitor.yml`)ï¼Œå®ƒä¼šåœ¨æ¯æ¬¡æœ‰ä»£ç æ¨é€åˆ° `main` åˆ†æ”¯æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. ç™»å½•åˆ° Docker Hubã€‚
2. æ„å»ºæ–°çš„ Docker é•œåƒã€‚
3. å°†é•œåƒæ ‡è®°ä¸º `latest` å¹¶æ¨é€åˆ°æ‚¨çš„ Docker Hub ä»“åº“ã€‚

è¦ä½¿æ­¤å·¥ä½œæµæ­£å¸¸å·¥ä½œï¼Œæ‚¨éœ€è¦åœ¨ GitHub ä»“åº“çš„ `Settings` > `Secrets and variables` > `Actions` ä¸­è®¾ç½®ä»¥ä¸‹ä¸¤ä¸ª secretï¼š

- `DOCKER_USERNAME`: æ‚¨çš„ Docker Hub ç”¨æˆ·åã€‚
- `DOCKER_PASSWORD`: æ‚¨çš„ Docker Hub å¯†ç æˆ–è®¿é—®ä»¤ç‰Œã€‚
